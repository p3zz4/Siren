{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/siren.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Siren","_classCallCheck","this","canvas","ctx","playPauseBtn","rightPanel","bottomPanel","audio","sources","initVisualizer","getContext","initPlayPauseBtn","initRightPanel","initBottomPanel","initAudio","_this","document","createElement","body","appendChild","className","span","innerHTML","addEventListener","childElementCount","playFirstTrack","pause","play","_this2","playNextTrackBtn","playNextTrack","width","window","innerWidth","height","innerHeight","controls","preload","src","source","type","push","tmp","shift","load","console","log","siren","initPlayer","addSrcToQueue"],"mappings":"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","file":"siren.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","export class Siren {\n        constructor() {\n                this.canvas = null;\n                this.ctx = null;\n                this.playPauseBtn = null;\n                this.rightPanel = null;\n                this.bottomPanel = null;\n                this.audio = null;\n                this.sources = [];\n        }\n        initPlayer() {\n                this.canvas = this.initVisualizer();\n                this.ctx = this.canvas.getContext(\"2d\");\n                this.playPauseBtn = this.initPlayPauseBtn();\n                this.rightPanel = this.initRightPanel();\n                this.bottomPanel = this.initBottomPanel();\n                this.audio = this.initAudio();\n        }\n        initPlayPauseBtn() {\n                const playPauseBtn = document.createElement(\"div\");\n                document.body.appendChild(playPauseBtn);\n                playPauseBtn.className += \"playPauseBtn\";\n\n                const span = document.createElement(\"span\");\n                playPauseBtn.appendChild(span);\n                span.innerHTML = \"►\";\n\n                playPauseBtn.addEventListener(\"click\", () => {\n                        if (this.audio.childElementCount === 0) {\n                                this.playFirstTrack();\n                        }\n                        if (span.innerHTML === \"||\") {\n                                span.innerHTML = \"►\";\n                                this.audio.pause();\n                        } else {\n                                span.innerHTML = \"||\";\n                                this.audio.play();\n\n                        }\n                });\n                return playPauseBtn;\n        }\n        initBottomPanel() {\n                const bottomPanel = document.createElement(\"div\");\n                document.body.appendChild(bottomPanel);\n                bottomPanel.className += \" bottomPanel\";\n\n                const playNextTrackBtn = document.createElement(\"div\");\n                bottomPanel.appendChild(playNextTrackBtn);\n                playNextTrackBtn.className += \" playNextTrackBtn\";\n                playNextTrackBtn.innerHTML = \"►►\";\n                playNextTrackBtn.addEventListener(\"click\", () => {\n                        this.playNextTrack();\n                });\n\n                return bottomPanel;\n        }\n        initRightPanel() {\n                const rightPanel = document.createElement(\"div\");\n                document.body.appendChild(rightPanel);\n                rightPanel.className += \" rightPanel\";\n                return rightPanel;\n        }\n        initVisualizer() {\n                const canvas = document.createElement(\"canvas\");\n                document.body.appendChild(canvas);\n                canvas.className += \" canvas\";\n                canvas.width = window.innerWidth;\n                canvas.height = window.innerHeight;\n                window.addEventListener(\"resize\", () => {\n                        canvas.width = window.innerWidth;\n                        canvas.height = window.innerHeight;\n                })\n                return canvas;\n        }\n        initAudio() {\n                const audio = document.createElement(\"audio\");\n                this.bottomPanel.appendChild(audio);\n                audio.className += \" audio\";\n                audio.controls = \"contols\";\n                audio.preload = \"auto\";\n                return audio;\n        }\n        addSrcToQueue(src) {\n                const source = document.createElement(\"source\");\n                source.type = \"audio/mpeg\";\n                source.src = src;\n                this.sources.push(source);\n        }\n        playNextTrack() {\n                this.audio.pause();\n                const tmp = this.sources.shift();\n                this.sources.push(tmp);\n                this.audio.innerHTML = \"\";\n                this.audio.appendChild(this.sources[0]);\n                this.audio.load();\n                this.audio.play();\n        }\n        playFirstTrack() {\n                this.audio.pause();\n                this.audio.innerHTML = \"\";\n                this.audio.appendChild(this.sources[0]);\n                this.audio.load();\n                this.audio.play();\n        };\n        log() {\n                console.log(this.playPauseBtn, this.rightPanel, this.bottomPanel, this.playPauseBtn, this.canvas, this.ctx);\n        }\n\n}","import {Siren} from \"./siren\";\n\nconst siren = new Siren();\nsiren.initPlayer();\nsiren.addSrcToQueue(\"../data/music/1.mp3\");\nsiren.addSrcToQueue(\"../data/music/2.mp3\");\n\nsiren.log();\n"],"sourceRoot":""}