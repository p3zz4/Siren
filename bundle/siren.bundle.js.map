{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/siren.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Siren","_classCallCheck","this","canvas","initCanvas","ctx","getContext","playPauseBtn","initPlayPauseBtn","rightPanel","initRightPanel","playlist","initPlaylist","bottomPanel","initBottomPanel","audio","initAudio","sourceElements","analyser","initAnalyser","requestID","updateLocalPlaylist","initKeyboardShortcuts","elementName","parentElement","className","tmpElement","document","createElement","appendChild","classList","add","_this","domElementCreator","body","span","innerHTML","addEventListener","childElementCount","playFirstTrack","paused","play","pause","_this2","controls","playPreviousTrackBtn","playPreviousTrack","playNextTrackBtn","playNextTrack","_this3","loader","type","id","accept","multiple","label","htmlFor","event","concat","_toConsumableArray","files","map","file","slice","sort","name1","name2","reduce","promises","then","_","addToRemotePlaylist","Promise","resolve","width","window","innerWidth","height","innerHeight","_this4","preload","runVisualizer","togglePlayPauseBtn","stopVisualizer","newSource","index","source","src","load","length","playTrackAtIndex","indexOf","firstChild","currentTime","muted","context","AudioContext","createAnalyser","createMediaElementSource","connect","destination","_this5","requestAnimationFrame","updateVisualizer","fbcArray","Uint8Array","frequencyBinCount","getByteFrequencyData","clearRect","fillStyle","NumberOfBars","barWidth","barX","barHeight","fillRect","_this6","_this7","setTimeout","cancelAnimationFrame","path","fetch","headers","Accept","Content-Type","method","JSON","stringify","_this8","response","json","reverse","forEach","element","track","deleteBtn","catch","err","console","log","stopPropagation","parentNode","removeChild","splice","addSourceToQueue","_this9","which","click","backwardFiveSec","forwardFiveSec","muteAudio"],"mappings":"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","file":"siren.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export class Siren {\n        constructor() {\n                this.canvas = this.initCanvas();\n                this.ctx = this.canvas.getContext(\"2d\");\n                this.playPauseBtn = this.initPlayPauseBtn();\n                this.rightPanel = this.initRightPanel();\n                this.playlist = this.initPlaylist();\n                this.bottomPanel = this.initBottomPanel();\n                this.audio = this.initAudio();\n                this.sourceElements = [];\n                this.analyser = this.initAnalyser();\n                this.requestID = null;\n                this.updateLocalPlaylist();\n                this.initKeyboardShortcuts();\n        }\n        domElementCreator(elementName, parentElement, className) {\n                const tmpElement = document.createElement(elementName);\n                parentElement.appendChild(tmpElement);\n                tmpElement.classList.add(className);\n                return tmpElement;\n        }\n\n        initPlayPauseBtn() {\n                const playPauseBtn = this.domElementCreator(\"div\", document.body, \"playPauseBtn\");\n                const span = this.domElementCreator(\"span\", playPauseBtn, \"span\");\n                span.innerHTML = `<i class=\"fas fa-play\"></i>`;\n                span.addEventListener(\"click\", () => {\n                        if (this.audio.childElementCount === 0) {\n                                this.playFirstTrack();\n                        } else {\n                                this.audio.paused === true ? this.audio.play() : this.audio.pause();\n                        }\n                });\n                return span;\n        }\n        togglePlayPauseBtn() {\n                this.playPauseBtn.innerHTML = this.audio.paused === true ? `<i class=\"fas fa-play\"></i>` : `<i class=\"fas fa-pause\"></i>`;\n        }\n        initBottomPanel() {\n                const bottomPanel = this.domElementCreator(\"div\", document.body, \"bottomPanel\");\n                const controls = this.domElementCreator(\"div\", bottomPanel, \"controls\");\n                const playPreviousTrackBtn = this.domElementCreator(\"span\", controls, \"playNextTrackBtn\");\n\n                playPreviousTrackBtn.innerHTML = `<i class=\"fas fa-fast-backward\"></i>`;\n                playPreviousTrackBtn.addEventListener(\"click\", () => {\n                        this.playPreviousTrack();\n                });\n\n                const playNextTrackBtn = this.domElementCreator(\"span\", controls, \"playNextTrackBtn\");\n                playNextTrackBtn.innerHTML = `<i class=\"fas fa-fast-forward\"></i>`;\n                playNextTrackBtn.addEventListener(\"click\", () => {\n                        this.playNextTrack();\n                });\n\n                return bottomPanel;\n        }\n        initRightPanel() {\n                const rightPanel = this.domElementCreator(\"div\", document.body, \"rightPanel\");\n                const loader = this.domElementCreator(\"input\", rightPanel, \"loader\");\n                loader.type = \"file\";\n                loader.id = \"file\";\n                loader.accept = \".mp3\"\n                loader.multiple = true;\n\n                const label = this.domElementCreator(\"label\", rightPanel, \"label\");\n                label.htmlFor = \"file\";\n                label.innerHTML = `<i class=\"fas fa-plus\"></i>`;\n\n                loader.addEventListener(\"change\", (event) => {\n                        [...loader.files].map((file) => file.name.slice(0, -4)).sort((name1,name2)=>name1<name2).reduce((promises, name) =>\n                                promises.then(_ => this.addToRemotePlaylist(name, `../data/music/${name}.mp3`)), Promise.resolve([])\n                        ).then(_ => {\n                                this.updateLocalPlaylist();\n                        });\n                });\n\n                return rightPanel;\n        }\n        initPlaylist() {\n                const playlist = this.domElementCreator(\"div\", this.rightPanel, \"playlist\");\n                return playlist;\n        }\n        initCanvas() {\n                const canvas = this.domElementCreator(\"canvas\", document.body, \"canvas\");\n                canvas.width = window.innerWidth;\n                canvas.height = window.innerHeight;\n                window.addEventListener(\"resize\", () => {\n                        canvas.width = window.innerWidth;\n                        canvas.height = window.innerHeight;\n                })\n                return canvas;\n        }\n        initAudio() {\n                const audio = this.domElementCreator(\"audio\", this.bottomPanel, \"audio\");\n                audio.controls = \"contols\";\n                audio.preload = \"auto\";\n                audio.addEventListener(\"play\", _ => {\n                        this.runVisualizer();\n                        this.togglePlayPauseBtn();\n                });\n                audio.addEventListener(\"pause\", _ => {\n                        this.stopVisualizer();\n                        this.togglePlayPauseBtn();\n                });\n                audio.addEventListener(\"ended\", _ => {\n                        this.playNextTrack();\n                });\n                return audio;\n        }\n        addSourceToQueue(newSource, index) {\n                const source = document.createElement(\"source\");\n                source.type = \"audio/mpeg\";\n                source.src = newSource;\n                this.sourceElements[index] = source;\n        }\n        playTrackAtIndex(index) {\n                this.audio.pause();\n                this.audio.innerHTML = \"\";\n                this.audio.appendChild(this.sourceElements[index]);\n                this.audio.load();\n                this.audio.play();\n        }\n        playFirstTrack() {\n                if (this.sourceElements.length === 0) {\n                        return;\n                }\n                this.playTrackAtIndex(0);\n        }\n        playNextTrack() {\n                if (this.sourceElements.length === 0) {\n                        return;\n                }\n                this.playTrackAtIndex((this.sourceElements.indexOf(this.audio.firstChild) + 1) % this.sourceElements.length);\n        }\n        playPreviousTrack() {\n                if (this.sourceElements.length === 0) {\n                        return;\n                }\n                if (this.sourceElements.length === 0) {\n                        return;\n                }\n                this.playTrackAtIndex((this.sourceElements.indexOf(this.audio.firstChild) + this.sourceElements.length - 1) % this.sourceElements.length);\n        }\n        forwardFiveSec(audio) {\n                audio.currentTime += 5;\n        }\n        backwardFiveSec(audio) {\n                audio.currentTime -= 5;\n        }\n        muteAudio(audio) {\n                audio.muted = audio.muted === true ? false : true;\n        }\n        initAnalyser() {\n                const context = new AudioContext();\n                const analyser = context.createAnalyser();\n                const source = context.createMediaElementSource(this.audio);\n                source.connect(analyser);\n                analyser.connect(context.destination);\n                return analyser;\n        }\n        updateVisualizer() {\n                //test\n                this.requestID = requestAnimationFrame(_ => this.updateVisualizer());\n                const fbcArray = new Uint8Array(this.analyser.frequencyBinCount);\n                this.analyser.getByteFrequencyData(fbcArray);\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.ctx.fillStyle = '#0DDEFF';\n                // const barWidth = window.innerWidth / 400;\n                // const gap = window.innerWidth / 400 / 2;\n                const barWidth = 2;\n                const gap = 1;\n                const barStep = barWidth + gap;\n                const NumberOfBars = (this.canvas.width / barStep >= 1024) ? this.canvas.width / barStep : 1023;\n                for (let i = 0; i < NumberOfBars; i++) {\n                        const barX = i * barStep;\n                        const barHeight = -(fbcArray[i]) * 0.004 * window.innerHeight * 0.8; // 0.004 ~ 1/255; array takes value from 0 to 255\n                        this.ctx.fillRect(barX, this.canvas.height, barWidth, barHeight);\n                }\n        }\n        runVisualizer() {\n                this.requestID = requestAnimationFrame(_ => this.updateVisualizer());\n        }\n        stopVisualizer() {\n                setTimeout(_ => {\n                        cancelAnimationFrame(this.requestID);\n                }, 2000);\n\n        }\n        addToRemotePlaylist(name, path) {\n                return fetch(\"http://localhost:3000/playlist\", {\n                        headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json'\n                        },\n                        method: \"POST\",\n                        body: JSON.stringify({\n                                //id: `${path}`,\n                                name: `${name}`,\n                                path: `${path}`\n                        })\n                });\n        }\n        updateLocalPlaylist() {\n                this.sourceElements = [];\n                this.playlist.innerHTML = \"\";\n                return fetch(\"http://localhost:3000/playlist\")\n                        .then(response => response.json().then((response) => response.reverse().forEach((element, index) => {\n                                const track = this.domElementCreator(\"div\", this.playlist, \"track\");\n                                const deleteBtn = this.domElementCreator(\"div\", track, \"deleteBtn\");\n                                deleteBtn.innerHTML = `<i class=\"fas fa-times\"></i>`;\n                                deleteBtn.addEventListener(\"click\", (event) => {\n                                        fetch(`http://localhost:3000/playlist/${element.id}`, {\n                                                headers: {\n                                                        'Accept': 'application/json',\n                                                        'Content-Type': 'application/json'\n                                                },\n                                                method: \"DELETE\"\n                                        }).catch((err) => {\n                                                console.log(err)\n                                        });\n                                        event.stopPropagation();\n                                        deleteBtn.parentNode.parentNode.removeChild(deleteBtn.parentNode);\n                                        this.sourceElements.splice(index, 1);\n                                });\n                                const name = this.domElementCreator(\"div\", track, \"name\");\n                                name.innerHTML = `Name: ${element.name}`;\n                                track.addEventListener(\"click\", _ => {\n                                        this.playTrackAtIndex(index);\n                                });\n                                this.addSourceToQueue(`${element.path}`, index);\n                        })));\n        }\n        initKeyboardShortcuts() {\n                window.addEventListener(\"keydown\", event => {\n                        // space\n                        if (event.which == 32) {\n                                this.playPauseBtn.click();\n                        }\n                        // left arrow\n                        if (event.which == 37) {\n                                this.backwardFiveSec(this.audio);\n                        }\n                        // right arrow\n                        if (event.which == 39) {\n                                this.forwardFiveSec(this.audio);\n                        }\n                        // letter m\n                        if (event.which == 77) {\n                                this.muteAudio(this.audio);\n                        }\n                });\n        }\n}","import {Siren} from \"./siren\";\n\nconst siren = new Siren();\n"],"sourceRoot":""}